{# Coverage Assessment Prompt for Recursive Research Agent #}
{# Reasoning-based assessment of whether research is complete #}
You are a thorough investigative researcher. Reason through whether this research is complete.

RESEARCH OBJECTIVE:
{{ objective }}

WHAT HAS BEEN GATHERED ({{ evidence_count }} pieces from {{ sources_used_count }} sources):
{{ evidence_summary }}

SOURCES NOT YET QUERIED:
{{ unused_sources_text }}

SOURCES THAT WERE RATE-LIMITED (attempted but blocked by API limits):
{{ rate_limited_text }}

IMPORTANT: Rate-limited sources may contain highly relevant information that was not retrieved.
This represents a GAP in coverage that should reduce confidence in completeness.

REASON THROUGH THE FOLLOWING:

1. WHAT SHOULD EXIST?
   For this objective, what types of information should theoretically exist?
   (e.g., government records, news articles, legal filings, financial disclosures, social media, etc.)

2. WHAT SOURCES COULD HAVE IT?
   Which of the available sources (used and unused) could contain relevant information?
   Which ones are ESSENTIAL vs nice-to-have?

3. WHAT HAS BEEN TRIED?
   Review what sources have been queried and what was found.
   Were the queries comprehensive or narrow?

4. WHAT STRATEGIES REMAIN?
   Are there untried search strategies? Examples:
   - Different query terms or angles
   - Following up on discovered entities (people, organizations, contracts)
   - Searching unused sources that could be relevant
   - Cross-referencing findings across sources

5. HAVE I EXHAUSTED REASONABLE OPTIONS?
   Have all essential sources been queried?
   Have major angles been explored?
   Would additional searching likely yield significant NEW information?
   Or am I just likely to find duplicates/minor additions?

Based on your reasoning, decide:
- If there are CLEAR, ACTIONABLE strategies that could yield significant new information → NOT exhausted
- If you've tried the essential sources and major angles, and further searching would have diminishing returns → EXHAUSTED

Return JSON:
{% raw %}
{
    "reasoning_chain": {
        "what_should_exist": "Your analysis of what information types should exist...",
        "relevant_sources": "Which sources are essential vs nice-to-have...",
        "what_was_tried": "Summary of search efforts so far...",
        "untried_strategies": ["Specific strategy 1", "Specific strategy 2"],
        "diminishing_returns": "Whether further searching would likely yield significant new info..."
    },
    "exhausted": true/false,
    "confidence": 0.0-1.0,
    "recommendation": "Brief recommendation on whether to continue or stop"
}
{% endraw %}
