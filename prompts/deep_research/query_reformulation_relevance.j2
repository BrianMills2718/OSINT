The search query returned results that are OFF-TOPIC for the research question.

Original Research Question: "{{ research_question }}"
Current Query: "{{ original_query }}"
Results Found: {{ results_count }} (but not relevant)

Reformulate the query to be more specific while PRESERVING the original query's intent.

Guidelines:
- PRESERVE the core intent of "{{ original_query }}" (this is a specific subtask, not the full research question)
- ADD specific context from the research question to clarify the domain/focus
- If the original query is very generic (e.g., "official documentation"), add domain-specific terms (e.g., "cybersecurity clearance documentation")
- If the research question mentions a specific entity (e.g., "NSA"), clarify which one (e.g., "National Security Agency" not "Naval Support Activity")
- Remove generic terms that cause topic drift

Examples:
- Research: "NSA cybersecurity contracts" / Current: "NSA contracts" → "National Security Agency cybersecurity contracts" (preserved "contracts", added "National Security Agency" clarity)
- Research: "JSOC operations Iraq" / Current: "JSOC" → "Joint Special Operations Command Iraq operations" (preserved entity, added full name + context)
- Research: "cybersecurity jobs for cleared professionals" / Current: "official documentation" → "security clearance requirements official documentation" (preserved "official documentation" intent, added clearance context)

{% if sources_with_errors or sources_with_zero_results or sources_with_low_quality %}
SOURCE DIAGNOSTICS (to help you decide if param hints will help):
{% if sources_with_errors %}
- Sources with ERRORS: {{ sources_with_errors|join(', ') }}
  ⚠️ Do NOT adjust params for these - infrastructure issues (rate limits, timeouts, auth), not query issues
{% endif %}
{% if sources_with_zero_results %}
- Sources with ZERO results: {{ sources_with_zero_results|join(', ') }}
  ✓ Consider param hints to broaden search (e.g., Reddit time_filter → "year", USAJobs keywords → broader terms)
{% endif %}
{% if sources_with_low_quality %}
- Sources with LOW QUALITY results: {{ sources_with_low_quality|join(', ') }}
  ✓ Consider param hints to change search strategy (results returned but all rejected as irrelevant)
{% endif %}

{% endif %}
OPTIONAL - Source-Specific Parameter Adjustments:
If the query would benefit from adjusting source-specific parameters, suggest them:

Reddit parameters:
- time_filter: "hour" | "day" | "week" | "month" | "year" | "all"
  (Use "year" or "all" if searching for historical/comprehensive content)

USAJobs parameters:
- keywords: Prefer single broad keyword over multi-word phrases
  (e.g., "cybersecurity" gets more results than "cybersecurity analyst")

Return JSON with:
{
  "query": "new query text",
  "param_adjustments": {
    "reddit": {"time_filter": "year"},
    "usajobs": {"keywords": "broad keyword"}
  }
}
