<!DOCTYPE html>
<html>
<head>
    <title>Investigation Knowledge Graph</title>
    <script src="https://unpkg.com/vis-network@9.1.2/standalone/umd/vis-network.min.js"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        h1 {
            color: white;
            text-align: center;
            margin-bottom: 30px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }
        .graph-container {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            margin-bottom: 20px;
        }
        #network {
            width: 100%;
            height: 600px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
        }
        .legend {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            background: #f5f5f5;
            border-radius: 20px;
        }
        .color-box {
            width: 24px;
            height: 24px;
            border-radius: 4px;
            border: 2px solid rgba(0,0,0,0.2);
        }
        .stats-panel {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
        }
        .stats-panel h3 {
            margin-top: 0;
            color: #333;
        }
        .stat-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        .stat-item {
            padding: 12px;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }
        .stat-label {
            display: block;
            font-size: 12px;
            color: #666;
            margin-bottom: 4px;
        }
        .stat-value {
            display: block;
            font-size: 24px;
            font-weight: bold;
            color: #333;
        }
        .dead-ends {
            margin-top: 15px;
            padding: 10px;
            background: #fff3cd;
            border-radius: 8px;
            border-left: 4px solid #ffc107;
        }
        .dead-ends h4 {
            margin: 0 0 8px 0;
            color: #856404;
        }
        .dead-end-list {
            margin: 0;
            padding-left: 20px;
            color: #856404;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Investigation Knowledge Graph</h1>
        
        <div class="graph-container">
            <div class="legend">
                <div class="legend-item">
                    <span class="color-box" style="background: #9C27B0;"></span>
                    <span>Initial Query</span>
                </div>
                <div class="legend-item">
                    <span class="color-box" style="background: #4CAF50;"></span>
                    <span>Search Queries</span>
                </div>
                <div class="legend-item">
                    <span class="color-box" style="background: #2196F3;"></span>
                    <span>Findings (DataPoints)</span>
                </div>
                <div class="legend-item">
                    <span class="color-box" style="background: #FF9800;"></span>
                    <span>Insights (Patterns)</span>
                </div>
            </div>
            
            <div id="network"></div>
        </div>
        
        
    <div class="stats-panel">
        <h3>Investigation Statistics</h3>
        <div class="stat-grid">
            <div class="stat-item">
                <span class="stat-label">Total Nodes:</span>
                <span class="stat-value">4</span>
            </div>
            <div class="stat-item">
                <span class="stat-label">Searches:</span>
                <span class="stat-value">3</span>
            </div>
            <div class="stat-item">
                <span class="stat-label">Findings:</span>
                <span class="stat-value">0</span>
            </div>
            <div class="stat-item">
                <span class="stat-label">Insights:</span>
                <span class="stat-value">0</span>
            </div>
            <div class="stat-item">
                <span class="stat-label">Connections:</span>
                <span class="stat-value">3</span>
            </div>
            <div class="stat-item">
                <span class="stat-label">Graph Density:</span>
                <span class="stat-value">0.250</span>
            </div>
        </div>
        
        <div class="dead-ends">
            <h4>Dead-end Searches (no significant findings):</h4>
            <ul class="dead-end-list">
                <li>Timeline #1: @realDonaldTrump</li>
<li>Timeline #2: @realDonaldTrump</li>
<li>Timeline #3: @realDonaldTrump</li>
            </ul>
        </div>
    </div>
    </div>

    <script>
        // Graph data
        const graphData = {
  "nodes": [
    {
      "id": "dd56d5e324a3",
      "label": "Query: Investigation",
      "title": "Investigation",
      "color": {
        "background": "#9C27B0",
        "border": "#7B1FA2"
      },
      "shape": "star",
      "size": 30,
      "font": {
        "size": 14
      }
    },
    {
      "id": "765bf5400458",
      "label": "Timeline #1: @realDonaldTrump",
      "title": "timeline.php with params: {\"screenname\": \"realDonaldTrump\", \"count\": 20}",
      "color": {
        "background": "#4CAF50",
        "border": "#388E3C"
      },
      "shape": "box",
      "size": 20,
      "font": {
        "size": 12
      }
    },
    {
      "id": "16b8f5a1efca",
      "label": "Timeline #2: @realDonaldTrump",
      "title": "timeline.php with params: {\"screenname\": \"realDonaldTrump\", \"count\": 20}",
      "color": {
        "background": "#4CAF50",
        "border": "#388E3C"
      },
      "shape": "box",
      "size": 20,
      "font": {
        "size": 12
      }
    },
    {
      "id": "b0887b4be42d",
      "label": "Timeline #3: @realDonaldTrump",
      "title": "timeline.php with params: {\"screenname\": \"realDonaldTrump\", \"count\": 20}",
      "color": {
        "background": "#4CAF50",
        "border": "#388E3C"
      },
      "shape": "box",
      "size": 20,
      "font": {
        "size": 12
      }
    }
  ],
  "edges": [
    {
      "from": "dd56d5e324a3",
      "to": "765bf5400458",
      "label": "",
      "arrows": "to",
      "color": {
        "color": "#9C27B0"
      },
      "width": 2,
      "dashes": false,
      "smooth": {
        "enabled": true,
        "type": "dynamic"
      }
    },
    {
      "from": "dd56d5e324a3",
      "to": "16b8f5a1efca",
      "label": "",
      "arrows": "to",
      "color": {
        "color": "#9C27B0"
      },
      "width": 2,
      "dashes": false,
      "smooth": {
        "enabled": true,
        "type": "dynamic"
      }
    },
    {
      "from": "dd56d5e324a3",
      "to": "b0887b4be42d",
      "label": "",
      "arrows": "to",
      "color": {
        "color": "#9C27B0"
      },
      "width": 2,
      "dashes": false,
      "smooth": {
        "enabled": true,
        "type": "dynamic"
      }
    }
  ],
  "statistics": {
    "total_nodes": 4,
    "total_edges": 3,
    "node_counts": {
      "query": 1,
      "search": 3,
      "datapoint": 0,
      "insight": 0
    },
    "edge_counts": {
      "INITIATED": 3
    },
    "metrics": {
      "density": 0.25,
      "avg_degree": 1.5,
      "dead_end_searches": [
        "Timeline #1: @realDonaldTrump",
        "Timeline #2: @realDonaldTrump",
        "Timeline #3: @realDonaldTrump"
      ]
    }
  }
};
        
        // Create network
        const container = document.getElementById('network');
        const data = {
            nodes: new vis.DataSet(graphData.nodes),
            edges: new vis.DataSet(graphData.edges)
        };
        
        const options = {
            layout: {
                hierarchical: {
                    enabled: true,
                    direction: 'UD',
                    sortMethod: 'directed',
                    shakeTowards: 'roots',
                    nodeSpacing: 200,
                    treeSpacing: 200,
                    levelSeparation: 150
                }
            },
            physics: {
                enabled: true,
                hierarchicalRepulsion: {
                    nodeDistance: 250,
                    springLength: 200,
                    springConstant: 0.01,
                    damping: 0.09
                },
                stabilization: {
                    iterations: 200
                }
            },
            interaction: {
                hover: true,
                tooltipDelay: 200,
                zoomView: true,
                dragView: true,
                navigationButtons: true,
                keyboard: true
            },
            edges: {
                smooth: {
                    enabled: true,
                    type: 'dynamic'
                }
            }
        };
        
        const network = new vis.Network(container, data, options);
        
        // Stabilize and fit
        network.once('stabilizationIterationsDone', function() {
            network.setOptions({physics: false});
            network.fit();
        });
        
        // Click handler
        network.on("click", function(params) {
            if (params.nodes.length > 0) {
                const nodeId = params.nodes[0];
                const node = graphData.nodes.find(n => n.id === nodeId);
                if (node) {
                    console.log("Selected node:", node);
                }
            }
        });
    </script>
</body>
</html>