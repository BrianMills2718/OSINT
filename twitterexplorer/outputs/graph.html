<!DOCTYPE html>
<html>
<head>
    <title>Investigation Graph</title>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        body { font-family: Arial; margin: 20px; }
        #network { width: 100%; height: 500px; border: 1px solid #ccc; }
        .legend { margin: 20px 0; }
        .legend span { margin: 0 15px; padding: 5px 10px; }
        .search { background: #4CAF50; color: white; }
        .finding { background: #2196F3; color: white; }
        .pattern { background: #FF9800; color: white; }
    </style>
</head>
<body>
    <h1>Investigation Knowledge Graph</h1>
    <div class="legend">
        <span class="search">Searches</span>
        <span class="finding">Findings</span>
        <span class="pattern">Patterns</span>
    </div>
    <div id="network"></div>
    <script>
        fetch('graph_data.json')
            .then(r => r.json())
            .then(data => {
                const nodes = new vis.DataSet(data.nodes.map(n => ({
                    ...n,
                    color: n.group === 'search' ? '#4CAF50' : 
                           n.group === 'insight' ? '#FF9800' : '#2196F3'
                })));
                const edges = new vis.DataSet(data.edges.map(e => ({
                    ...e, arrows: 'to'
                })));
                new vis.Network(
                    document.getElementById('network'),
                    {nodes, edges},
                    {physics: {enabled: true}}
                );
            });
    </script>
</body>
</html>